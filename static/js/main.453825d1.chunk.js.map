{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/DeleteCardPopup.js","components/PopupClose.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","_id","link","name","likes","owner","onCardClick","onCardLike","onCardDelete","currentUser","useContext","card","isOwn","isLiked","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","onClick","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","style","backgroundImage","avatar","about","map","props","Footer","ImagePopup","isOpen","onClose","title","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","body","JSON","stringify","then","_getResponseData","cardId","authorization","PopupWithForm","buttonTitle","children","onSubmit","noValidate","EditProfilePopup","onUpdateUser","isLoading","useState","setName","description","setDescription","submitButton","useEffect","event","preventDefault","value","onChange","target","id","autoComplete","placeholder","minLength","maxLength","required","AddPlacePopup","setLink","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","DeleteCardPopup","PopupClose","rest","pushKey","key","closeOverlay","classList","contains","document","addEventListener","removeEventListener","cloneElement","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoading","isDeleteCardPopupOpen","setDeleteCardPopupOpen","cardDelete","setCardDelete","closeAllPopups","promises","getUserInfo","getInitialCards","all","user","catch","error","console","log","Provider","deleteLike","newCard","newCards","c","editProfile","result","addNewCard","editAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.453825d1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","import React from 'react';\r\nimport headerLogo from '../images/header-logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={headerLogo} alt=\"Место\" />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ _id, link, name, likes, owner,  onCardClick, onCardLike, onCardDelete }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const card = {\r\n        _id: _id,\r\n        link: link,\r\n        name: name,\r\n        owner: owner,\r\n        likes: likes,\r\n    };\r\n\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    const cardDeleteButtonClassName = `element__trash ${isOwn ? '' : 'element__trash_hidden'}`;\r\n    const cardLikeButtonClassName = `element__like ${isLiked ? 'element__like_active' : ''}`;\r\n\r\n    function handleClick() {\r\n        onCardClick({\r\n            link: link,\r\n            name: name,\r\n        });\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        onCardLike(card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete(card);\r\n    }\r\n\r\n    return (\r\n        <li className=\"element\">\r\n            <button onClick={handleDeleteClick} className={cardDeleteButtonClassName} type=\"button\"></button>\r\n            <img className=\"element__image\" src={link} alt={name} onClick={handleClick} />\r\n            <div className=\"element__description\">\r\n                <h2 className=\"element__title\">{name}</h2>\r\n                <div className=\"element__likes\">\r\n                    <button onClick={handleLikeClick} className={cardLikeButtonClassName} type=\"button\"></button>\r\n                    <p className=\"element__likes-number\">{likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar\" onClick={onEditAvatar} style={{ backgroundImage: `url(${currentUser.avatar})` }}></div>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n                    <button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile}></button>\r\n                    <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n                </div>\r\n                <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace}></button>\r\n            </section>\r\n            <section className=\"elements\">\r\n                <ul className=\"elements__item\">\r\n                    {cards.map((props) => (\r\n                        <Card \r\n                            key={props._id}\r\n                            _id={props._id}\r\n                            owner={props.owner}\r\n                            link={props.link}\r\n                            name={props.name}\r\n                            likes={props.likes}\r\n                            onCardClick={onCardClick}\r\n                            onCardLike={onCardLike}\r\n                            onCardDelete={onCardDelete}\r\n                        />\r\n                    ))}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2020. Сергей Цепилов</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction ImagePopup({ card, isOpen, onClose }) {\r\n    return (\r\n        <div className={`popup popup-image ${isOpen ? 'popup_opened' : false}`}>\r\n            <div className=\"popup__container-image\">\r\n                <button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\r\n                <img className=\"popup__fulled-image\" src={card.link} alt={card.title} />\r\n                <h3 className=\"popup__title-image\">{card.title}</h3>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    _getResponseData(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n\r\n    editProfile({ name, about }) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about\r\n            })\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    addNewCard({ name, link }) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: link\r\n            })\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    editAvatar({ avatar }) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: avatar\r\n            })\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    deleteLike(cardId, isLiked) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n            method: isLiked ? 'PUT' : 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n    headers: {\r\n        authorization: '54bcf370-1275-4b3b-905f-be3c184c4a5c',\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default api;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm({ name, title, buttonTitle, children, isOpen, onClose, onSubmit }) {\r\n    return (\r\n        <div className={`popup popup-${name} ${isOpen ? 'popup_opened' : false}`}>\r\n            <div className=\"popup__container\">\r\n                <button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\r\n                <h3 className=\"popup__title\">{title}</h3>\r\n                <form className={`popup__form popup__form-${name}`} name=\"formEdit\" onSubmit={onSubmit} noValidate>\r\n                    {children}\r\n                    <button className=\"popup__button\" type=\"submit\">\r\n                        {buttonTitle}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const submitButton = isLoading ? 'Сохранение...' : 'Сохранить';\r\n\r\n    function handleNameChange(event) {\r\n        setName(event.target.value);\r\n    }\r\n\r\n    function handleDescriptionChange(event) {\r\n        setDescription(event.target.value);\r\n    }\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, isOpen]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name={'edit'}\r\n            title={'Редактировать профиль'}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonTitle={submitButton}\r\n        >\r\n            <input value={name || ''} onChange={handleNameChange} className=\"popup__input popup__input_type_name\" name=\"popupName\" type=\"text\" id=\"name\" autoComplete=\"off\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required />\r\n            <span id=\"name-error\"></span>\r\n            <input value={description || ''} onChange={handleDescriptionChange} className=\"popup__input popup__input_type_description\" name=\"popupDescription\" type=\"text\" id=\"description\" autoComplete=\"off\" placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" required />\r\n            <span id=\"description-error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\r\n    const [name, setName] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n    const submitButton = isLoading ? 'Сохранение...' : 'Создать';\r\n\r\n    React.useEffect(() => {\r\n        setName('');\r\n        setLink('');\r\n    }, [isOpen]);\r\n\r\n    function handleNameChange(event) {\r\n        setName(event.target.value);\r\n    }\r\n\r\n    function handleLinkChange(event) {\r\n        setLink(event.target.value);\r\n    }\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        onAddPlace({ name, link });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name={'add'}\r\n            title={'Новое место'}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonTitle={submitButton}\r\n        >\r\n            <input value={name || ''} onChange={handleNameChange} className=\"popup__input popup__input_type_title\" name=\"popupTitle\" type=\"text\" id=\"title\" autoComplete=\"off\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" required />\r\n            <span id=\"title-error\"></span>\r\n            <input value={link || ''} onChange={handleLinkChange} className=\"popup__input popup__input_type_link\" name=\"popupLink\" type=\"url\" id=\"link\" autoComplete=\"off\" placeholder=\"Ссылка на картинку\" required />\r\n            <span id=\"link-error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\r\n    const avatarRef = React.useRef();\r\n    const submitButton = isLoading ? 'Сохранение...' : 'Обновить';\r\n\r\n    React.useEffect(() => {\r\n        avatarRef.current.value = '';\r\n    }, [isOpen]);\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        onUpdateAvatar({\r\n            avatar: avatarRef.current.value,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name={'avatar'}\r\n            title={'Обновить аватар'}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonTitle={submitButton}\r\n        >\r\n            <input ref={avatarRef} className=\"popup__input popup__input_type_link\" name=\"popupAvatar\" type=\"url\" id=\"avatar\" autoComplete=\"off\" placeholder=\"Ссылка на картинку\" required />\r\n            <span id=\"avatar-error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeleteCardPopup({ card, isOpen, onClose, onCardDelete, isLoading }) {\r\n    const submitButton = isLoading ? 'Удаление...' : 'Да';\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        onCardDelete(card);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name={'confirm'}\r\n            title={'Вы уверены?'}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonTitle={submitButton}\r\n        >\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default DeleteCardPopup;\r\n","import React from 'react';\r\n\r\nfunction PopupClose(props) {\r\n    const { children, ...rest } = props;\r\n\r\n    React.useEffect(() => {\r\n        function pushKey(event) {\r\n            if (event.key === \"Escape\") {\r\n                children.props.onClose();\r\n            }\r\n        }\r\n\r\n        function closeOverlay(event) {\r\n            if (event.target.classList.contains('popup_opened')) {\r\n                children.props.onClose();\r\n            }\r\n        }\r\n\r\n        document.addEventListener('click', closeOverlay);\r\n        document.addEventListener('keydown', pushKey);\r\n\r\n        return () => {\r\n            document.removeEventListener('click', closeOverlay);\r\n            document.removeEventListener('keydown', pushKey);\r\n        }\r\n    }, [children]);\r\n\r\n    return <> {React.cloneElement(children, { ...rest })} </>\r\n}\r\n\r\nexport default PopupClose;\r\n","import React from 'react';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport ImagePopup from './ImagePopup.js';\nimport api from '../utils/api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport PopupClose from './PopupClose.js';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setLoading] = React.useState(false);\n  const [isDeleteCardPopupOpen, setDeleteCardPopupOpen] = React.useState(false);\n  const [cardDelete, setCardDelete] = React.useState({});\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({ \n      isOpen: true, \n      link: card.link, \n      title: card.name, \n    });\n  }\n  \n  function handleDeleteCardClick(card) {\n    setDeleteCardPopupOpen(true);\n    setCardDelete(card);\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setSelectedCard({ isOpen: false });\n    setLoading(false);\n    setDeleteCardPopupOpen(false);\n  }\n\n  function handleUpdateUser({ name, about }) {\n    setLoading(true);\n    api.editProfile({ name, about })\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  function handleAddPlaceSubmit({ name, link }) {\n    setLoading(true);\n    api.addNewCard({ name, link })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    setLoading(true);\n    api.editAvatar({ avatar })\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  function handleCardDelete(card) {\n    setLoading(true);\n    api.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api.deleteLike(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  React.useEffect(() => {\n    const promises = [api.getUserInfo(), api.getInitialCards()];\n\n    Promise.all(promises)\n      .then(([user, cards]) => {\n        setCurrentUser(user);\n        setCards(cards);\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n\n        <Header />\n\n        <Main \n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleDeleteCardClick}\n        />\n\n        <EditProfilePopup \n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n\n        <AddPlacePopup \n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n\n        <EditAvatarPopup \n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n\n        <DeleteCardPopup \n          card={cardDelete}\n          isOpen={isDeleteCardPopupOpen}\n          onClose={closeAllPopups}\n          onCardDelete={handleCardDelete}\n          isLoading={isLoading}\n        />\n\n        <PopupClose>\n          <ImagePopup \n            card={selectedCard}\n            isOpen={selectedCard.isOpen}\n            onClose={closeAllPopups} \n          />\n        </PopupClose>\n\n        <Footer />\n      \n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}